<!DOCTYPE html>
<html lang="ru-RU">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<style>
</style>

<div class="container">
  <div class="calculator">
    <input type="text" class="num1">
    <select class="operation">
      <option value="sum">+</option>
      <option value="sub">-</option>
      <option value="mult">*</option>
      <option value="div">/</option>
    </select>
    <input type="text" class="num2">
    <button type="button" class="btnRun">=</button>
    <span class="result"></span>
  </div>
</div>

<script>
window.addEventListener('load', function() {
  let calculator = document.querySelector('.calculator');
  let inp1 = document.querySelector('.num1');
  let inp2 = document.querySelector('.num2');
  let btnRun = document.querySelector('.btnRun');
  let resultBox = document.querySelector('.result');
  let operation = document.querySelector('.operation');
  // Также этот код можно использовать для генерации option в теге select
  let mathOps = {
    sum: (a, b) => a + b,
    sub: (a, b) => a - b,
    mult: (a, b) => a * b,
    div: (a, b) => a / b,
  };

  btnRun.addEventListener('click', function() {
    let num1 = parseInt(inp1.value);
    let num2 = parseInt(inp2.value);
    let total = mathOps[operation.value](num1, num2);

    if(isNaN(total)) {
      total = 'Некорректный ввод';
    }

    resultBox.innerHTML = total;
    btnRun.disabled = true;
  });

  delegate(calculator, 'input,select', 'input', function() {
    btnRun.disabled = false;
  });

  delegate(calculator, '.num1,.num2', 'input', function() {
    this.value = this.value.replace(/[^0-9]/g, '');
  });
});

function delegate(box, selector, eventName, handler) {
  box.addEventListener(eventName, function(e) {
    let elem = e.target.closest(selector);

    if(elem !== null && box.contains(elem)) {
      handler.call(elem, e);
    }
  });
}

/*
  // расшифровка
  let v = operation.value;
  let fn = mathOps[v];
  let total = fn(num1, num2);
*/

/*
  // Функции от простой к стрелочной
  function sum(a, b) {
    return a + b
  }

  let sum = function(a, b) {
    return a + b
  }

  let sum = (a, b) => {
    return a + b
  }

  let sum = (a, b) => a + b;
*/

/*
  // при фильтрации массивов со стрелочными функциями, получается короткий код
  [10, 5, 8, 9, 1].filter(num => num > 5)
*/
</script>

<script src="custom.js"></script>
</body>
</html>
