<!DOCTYPE html>
<html lang="ru-RU">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<style>
  .item{
    margin: 5px 0;
  }
</style>

<div class="container">
  <button type="button" class="btnAdd">Add item</button>
  <hr>
  <div class="box">
    <div class="item">Text 1</div>
    <div class="item">Text <span>2</span></div>
    <div class="item">Text 3</div>
    <div class="item">Text 4</div>
    <div class="item">Text 5</div>
  </div>
</div>

<script>
window.addEventListener('load', function() {
  let btnAdd = document.querySelector('.btnAdd');
  let box = document.querySelector('.box');

  // При клике внутри контейнера, обрамляющего элементы
  // Мы проверяем есть ли элемента в районе которого произошел клик, класс .item
  // Если да, то этот элемент передаём в обработчик
  box.addEventListener('click', function(evt) {
    // console.log(this); // элемент .box, событие в контексте .box
    // console.log( evt.target ); // элемент по которому произошел клик (кто породил событие), div или span, при этом контекстом всё равно является .box

    if(evt.target.classList.contains('item')) {
      changeColor(evt.target);
    }
  });

  btnAdd.addEventListener('click', function(){
    let div = document.createElement('div');
    div.classList.add('item');
    div.innerHTML = 'Text ' + (box.children.length + 1);
    box.appendChild(div);
  });
});

function changeColor(elem) {
  let colors = ['#f00', '#ff0', '#0f0'];
  let num = Math.floor(Math.random() * colors.length);
  elem.style.color = colors[num];
}
</script>

<script src="custom.js"></script>
</body>
</html>
